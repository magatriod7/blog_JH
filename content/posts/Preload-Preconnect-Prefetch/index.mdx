---
title: 리소스 우선 순위 지정 Preload-Preconnect-Prefetch
date: 2022-07-15
description: Preload-Preconnect-Prefetch
tags:
  - css
---

### 리소스 우선 순위 지정

브라우저는 가장 중요한 리소스를 추측한 뒤 먼저 로드한다. 하지만 이런 방법이 항상 옳지는 않다.
이를 해결하기 위해서 preload, preconnect, prefetch를 통해서 브라우저에게 리소스의 우선 순위를 전해줄 수 있다.

## preload

현재 페이지에서 빠르게 가져와야하는 리소스에 사용되는 속성. 

```
<link rel="preload" as="script" href="super-important.js">
<link rel="preload" as="style" href="critical.css">
```
과 같은 방법으로 사용할 수 있으며 as를 통하여 리소스의 유형을 알려줘야한다. 
리소스를 가져왔으나 빠른 시간 내에 사용되지 않으면 경고창이 뜬다.

폰트등과 같이 추후 충돌할 수도 있는 소스코드에 사용되면 좋다.

## preconnect

현재 페이지에서 외부 도메인의 리소스를 참고하는 것을 브라우저에게 알려 미리 외부 도메인과 연결을 설정할 수 있다.
preconnect는 외부 도메인과의 연결을 하기 때문에 많은 시간을 요구하므로 빨리 닫힐 수도 있는 페이지에는 사용하지 않는 것이 좋다.

미디어 스트리밍과 같이 미리 연결하여 리소스를 가져올 준비가 필요한 경우 preconnect가 사용되면 좋다.
리소스를 받아와야하는 주소는 알지만 세부적인 경로는 몰라 시간이 많이 걸릴 수도 있을 때 미리 리소스를 받을 준비를 하면 좋다.

## prefetch

미래에 필요할 수 있는 리소스를 가져와야 할 때 사용되는 속성이다. prefetch는 현재 페이지 로딩 완료 후 가장 낮은 우선순위로 리소스를 가져온다.

```
<link rel="prefetch" href="page-2.html">
```
예를들면 페이지 1을 가져온 후 2페이지를 미리 가져오게 되는데 html 파일만 가져오므로 필요한 리소스는 사용되지 않는다.
---

질문할 점: prefetch는 리액트에서 사용되는가?? preconnect는 언제 사용되는가?



[참조1] (https://beomy.github.io/tech/browser/critical-rendering-path/#%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84-%EC%A7%80%EC%A0%95)
[참조2] (https://beomy.github.io/tech/browser/preload-preconnect-prefetch/)